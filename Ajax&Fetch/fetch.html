<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fetch</title>
</head>

<body>
  <script>
    const url = "https://www.imooc.com/api/http/search/suggest?words=js";

    const fd = new FormData();
    fd.append("username", "tome");

    fetch(url, {
      method: "post",
      //params:{}没有
      // body: "username=tom&age=18",
      // headers: { "Content-Type": "application/x-www-form-urlencoded" }
      //这两个是配套使用的

      //不可以直接传对象
      //body: { username: "Tom", age: 18 }

      //传对象需要转换， 此时传入的api接口需要是支持json的
      // body: JSON.stringify({ username: "Tom", age: 18 }),
      // headers: { "Content-Type": "application/json" },

      //FormData
      body: fd,

      //默认是cors，需要跨域的时候要保证是cors
      mode: "cors",

      //cookie
      // credentials: "include",
    })
      .then((response) => {
        console.log(response);
        if (response.ok) {
          return response.json();
          // return response.text();
        } else {
          throw new Error(`HTTP CODE 异常:${response.status}`)
        }
      })
      .then((data) => {
        console.log(data);
      })
      .catch((err) => {
        console.log(err);
      });

  </script>
</body>

</html>