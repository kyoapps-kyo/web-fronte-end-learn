<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>输入文本</title>
</head>

<body>
    <p>字数限制在30字内，<span>您还可以输入<b>30</b> 字</span></p>
    <textarea cols="50" rows="7" id="text"></textarea>
    <script type="text/javascript">
        const oText = document.querySelector("#text");
        const oB = document.querySelector("b");
        const oSpan = document.querySelector("span");
        const textData = oSpan.childNodes[0].data;
        oText.oninput = function () {
            var textLength = oText.value.length;
            oB.innerText = 30 - textLength;
            if (oB.innerText < 0) {
                oSpan.childNodes[0].data = "输入字数超过";
                oB.innerText *= -1;
            } else {
                oSpan.childNodes[0].data = textData;
            }
        }
    </script>
</body>

</html>